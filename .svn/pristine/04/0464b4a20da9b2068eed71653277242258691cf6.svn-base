from task import *
from datamodel import *

class MainController(object):

    def __init__(self):
        super(MainController, self).__init__()
        self.init_ctlrs()

    def init_ctlrs(self):
        self.task_ctlr = TaskController()
        self.data_model = StockDataModel()

    def get_stock_value(self):
        for stock in stock_list:
            t = Task(stock, parsing_stocks)
            t.start()

            self.task_ctlr.enqueue_task(t)
        self.data_model.add_data(self.task_ctlr.dequeue_task())

m = MainController()
m.get_stock_value()

m.data_model.print_all_model()